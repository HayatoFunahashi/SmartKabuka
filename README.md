# 概要

保有株情報を活用してAIを組み込んだアラート通知アプリを作成する．

## 前提条件

- 株価情報にはSBI証券の保有株情報のCSVファイルを利用すること．
 - TODO：取得方法を記載　現状はWebから手動でダウンロードしたインプットファイルを利用
- Pythonを利用する．
- AIにはClaudeCodeを利用する．APIを利用できること．
- APIキーや認証情報は.envに記載すること

## アプリの構成

- 保有株情報を取得する機能
 - inputフォルダ内にあるdata.csvを読み込みする

- 株価・ニュースをリアルタイムで取得する機能
 - Yahoo Finance APIもしくは楽天証券APIを利用して株価情報を取得する
 - 株探、日経電子版、NewsPicks などからのRSSやスク
 レイピングで関連株のニュースを取得する

- AIによる解析・アラート判定
 - AIモデルを利用してニュースの要約＋保有株との関連性分析を行う
 - テクニカル指標（移動平均乖離，RSIなど）から売買のアドバイスを自動生成する

- 通知機能
 - 選択したどれか一つの手段にて通知できる機能
 - LINE，メール

## 入力csvのデータフォーマット

CSVはSJISでエンコーディングされた，カンマ区切りデータです．
株式・投資信託ごとに複数のセクションに分かれており、各セクションごとにヘッダー行とデータ行が存在します。
合計行や説明行も含まれています。

### 主なセクション例

- 株式（現物/一般預り）
- 株式（現物/NISA預り（成長投資枠））
- 株式（現物/旧NISA預り）
- 投資信託（金額/特定預り）
- 投資信託（金額/NISA預り（つみたて投資枠））

### 各セクションのカラム例

株式セクション

```
"銘柄（コード）","買付日","数量","取得単価","現在値","前日比","前日比（％）","損益","損益（％）","評価額"
```

投資信託セクション

```
"ファンド名","買付日","数量","取得単価","現在値","前日比","前日比（％）","損益","損益（％）","評価額"
```

CAUTION: 

* セクションごとにヘッダー行が繰り返されます。
* 合計行や説明行も含まれるため、データ抽出時は不要行のスキップが必要です。
* 数値はカンマ区切り、小数点あり・なしが混在しています。